---
description: 
globs: 
alwaysApply: true
---
---
alwaysApply: true
---
Использовать Redux-like подход.

Все неизменяемы значения/параметры должны помещаться в @conf.lua в блок конфига к которому относиться параметр.

Изменяемые значения должны быть в состоянии - только чистый обьект без логики и методов, должно описываться в файле @state.lua.

В @engine.lua можно описывать только общие системные методы.

Каждая отдельная логика описывается в отдельном модуле/файле lua (к примеру @drag.lua и @drop.lua которые могут именть init, update и draw методы).

Init и Update нужно регестрировать в @logic.lua. Draw в @randering.lua. 

Все методы должны принимать game себе как параметр (не запрещается передавать доп параметры если нужно). Получается что методы либо меняет состояние либо делает что то по информации из него (например отрисоваывает).

Вспомогательные методы нужно помещать в файл @utils.lua. Но вспомогательными методами нужно считать те которые принимают в аргументы только базовые типы и делают какое-то общее переиспользуемое действие.